jQuery(document).ready(function(){function p(){$(".container").hide("fade",function(){$(".landing").show();$("#buscar").focus();$("#buscar").val("");$(".info").empty()})}function k(){0<$(".seeders").length&&$("table").tablesorter({sortList:[[2,1]]})}function n(){$("#ui-id-1").hide();$(".container").fadeIn("slow");$(".loader").hide();k()}function x(a){var f;jQuery.getJSON("https://www.googleapis.com/youtube/v3/search?part=snippet&key=AIzaSyC8RTwNE44rIIa_it00jG_Q3J60A4UIP4I",{q:a+"+official+trailer"},
function(a,c){console.log(a);console.log(a.items[0].id.videoId);f=a.items[0].id.videoId;$("#trailer").append('<a class="trailer fancybox.iframe" href="https://www.youtube.com/embed/'+f+'?autoplay=1" original-title="Watch trailer"><img src="images/trailer.png"></a>')})}function q(){document.getElementById("RARBG").checked&&(document.getElementById("expert").checked&&(d=e,b=""),jQuery.ajax({url:"http://torrentapi.org/pubapi_v2.php?get_token=get_token",type:"GET",dataType:"json"}).done(function(a){console.log("success");
var f=a.token;jQuery.ajax({url:"http://torrentapi.org/pubapi_v2.php?mode=search&format=json_extended&sort=seeders&ranked=0&search_string="+encodeURI(d)+"%20"+b+"&token="+f+"&b=4&f=norefer",type:"GET",dataType:"json"}).done(function(a){console.log("success");if("No results found"===a.error||10===a.error_code)$("#enlaces").append("<p>No results found in RARBG</p>");else if("Invalid token set!"===a.error||"Invalid token. Use get_token for a new one!"===a.error)console.log("invalid token"),
f="",q();else{for(var c in a.torrent_results){var b=parseFloat(a.torrent_results[c].size/1E9).toFixed(2);$("tbody").append("<tr><td><a href="+a.torrent_results[c].download+">"+a.torrent_results[c].title+'</a></td><td class="size"> '+b+'  GiB </td><td class="seeders"> '+a.torrent_results[c].seeders+'</td><td class="leechers"> '+a.torrent_results[c].leechers+"</td></tr>")}$("table").trigger("update");k()}}).fail(function(){console.log("error")}).always(function(){})}).fail(function(){console.log("error")}).always(function(a){console.log("complete");
console.log(a)}))}function r(){document.getElementById("TPB").checked&&(document.getElementById("expert").checked&&(d=e,b=""),$.ajax({url:"https://thepiratebay.org/search/"+encodeURI(d)+" "+b+"/0/99/200",type:"GET",dataType:"html"}).done(function(a){console.log("success");if($(a).find(".detName"))if("Database maintenance, please check back in 10 minutes."===a)$("#enlaces").append("<p>thepiratebay database maintenance</p>");else{var f=$(a).find(".detName").next();$(a).find(".detName");
var b=$(a).find(".detLink"),c=$(a).find("font.detDesc"),l=$(a).find("td[align='right']:even"),g=$(a).find("td[align='right']:odd");$(b).each(function(a,t){var b=$(this).text(),d=c[a].textContent.split(/[\s,]+/),y=l[a].textContent,e=g[a].textContent;$("tbody").append("<tr><td><a href="+f[a]+">"+b+'</a></a></td><td class="size"> '+d[4]+" "+d[5]+' </span></td><td class="seeders">'+y+'</td><td class="leechers">'+e+"</td></tr>")});$("table").trigger("update");k()}else $("#enlaces").append("<p>No results found in thepiratebay</p>")}).fail(function(a){console.log("error")}).always(function(a,
f){console.log("complete")}))}function u(){document.getElementById("TP").checked&&(document.getElementById("expert").checked&&(d=e,b=""),$.ajax({url:"https://torrentproject.se/?s="+encodeURI(d)+"+"+b+"&filter=2000&hl=en&safe=on&num=20&start=0&orderby=best",type:"GET",dataType:"html"}).done(function(a){console.log("success");if($(a).find(".torrent")){$(a).find(".torrent");var f=$(a).find("h3 a"),b=$(a).find("div span span b:even"),c=$(a).find("div span span b:odd");$(a).find("a.l.tl");
var d=$(a).find("span.bc.torrent-size"),g;$(a).find("h3 a").each(function(a,t){g=$(t).attr("href").split("/");$("tbody").append('<tr><td><a href="magnet:?xt=urn:btih:'+g[1]+'&tr=udp://tracker.opentrackr.org:1337&tr=udp://tracker.coppersurfer.tk:6969&tr=udp://9.rarbg.to:2710&tr=udp://tracker.leechers-paradise.org:6969/announce/">'+f[a].text+'</a></td><td class="size"> '+d[a].textContent+'</td><td class="seeders"> '+b[a].textContent+'</td><td class="leechers"> '+c[a].textContent+"</td></tr>")});$("table").trigger("update");
k()}else $("#enlaces").append("<p>No results found in TorrentProject</p>")}).fail(function(){console.log("error")}).always(function(){console.log("complete")}))}function v(){document.getElementById("TZ2").checked&&(document.getElementById("expert").checked&&(d=e,b=""),$.ajax({url:"https://torrentz2.eu/search?f="+d+" "+b+"+video",type:"GET",dataType:"html"}).done(function(a){console.log("success");$(a).find("dl");var b=$(a).find("dt a");b.attr("href");$(a).find("dd");var d=$(a).find("dd span:nth-child(3)"),
c=$(a).find("dd span:nth-child(4)"),e=$(a).find("dd span:nth-child(5)");$(a).find("dt a").each(function(a,z){$("tbody").append('<tr><td><a href="magnet:?xt=urn:btih:'+$(z).attr("href").replace(/\//g,"")+'&tr=udp://tracker.opentrackr.org:1337&tr=udp://tracker.coppersurfer.tk:6969&tr=udp://9.rarbg.to:2710&tr=udp://tracker.leechers-paradise.org:6969/announce/">'+b[a].textContent+'</a></td><td class="size"> '+d[a].textContent+'</td><td class="seeders"> '+c[a].textContent+'</td><td class="leechers"> '+
e[a].textContent+"</td></tr>")})}).fail(function(){console.log("error")}).always(function(){console.log("complete")}))}function w(){console.log("consulta");setTimeout(function(){"block"!==$(".landing").css("display")&&n()},5E3);$(".landing").hide();$(".info").empty();$(".loader").show();$("#ui-id-1").hide();$(".ui-autocomplete-loading").removeClass("ui-autocomplete-loading");e=$("#buscar").val();document.getElementById("expert").checked?b="":4===e.replace(/^\D+/g,"").length?(b=e.replace(/^\D+/g,""),
e=e.match(/^\D+/g)):b="";jQuery(document).ready(function(a){a.ajax({url:"https://yandex.com/search/xml?user=kamikace&key=03.409040134:43ae31eeeefc88dbf9bde86ebe6ec5ec&sortby=rlv&l10n=en&query=site%3Aimdb.com+"+encodeURI(e)+"+"+b,type:"GET",dataType:"xml"}).done(function(f){console.log("success");console.log(f);var e=[];a(f).find("url").each(function(b,c){e.push(a(this).text())});var c=e[0].split("/");h="undefined"===typeof c[4]?"tt"+e[0].split("?")[1]:c[4];var l=[],g=[];"nm"===h.replace(/[0-9]/g,
"")&&(m="person",console.log("bien"),a(f).find("passages").each(function(b,c){console.log(this);l.push(a(this).text())}),a(f).find("title").each(function(b,c){console.log(this);g.push(a(this).text())}),console.log(l[0]),console.log(g[0]),a("#titulo").append(g[0]),a("#descripcion").append(l[0]),a.ajax({url:"http://www.imdb.com/name/"+h+"/",type:"GET",dataType:"html"}).done(function(b){console.log("success");a(b).find("#name-poster").clone().appendTo("#poster")}));console.log(h);jQuery.ajax({url:"http://www.omdbapi.com/?i="+
h+"&plot=full&r=json",type:"GET",dataType:"json"}).done(function(c){console.log("success");"False"===c.Response||"game"===c.Type?(document.getElementById("expert").checked&&(a("#enlaces").append('<table class="tablesorter"><thead><tr><th>Links</th><th>Size</th><th>Seeds</th><th>Leechs</th></tr></thead><tbody></tbody></table>'),q(),r(),u(),v(),a(document).ajaxStop(function(){k();a("table").stacktable();n();a(this).unbind("ajaxStop")})),"person"!=m&&a("#titulo").append("<p>No results found</p>"),n()):
(h=c.imdbID,d=c.Title,b=c.Year,m=c.Type,a("#titulo").append("<h1>"+d+" ("+b+")</h1>"),a("#descripcion").append('<p style="text-align:center;">'+c.Runtime+" | "+c.Genre+" | "+c.imdbRating+"</p>"),a("#nota").append('<span class="imdbRatingPlugin imdbRatingStyle1" data-user="ur64023610" data-title="tt0591328" data-style="p1"><a href="http://www.imdb.com/title/'+h+'/?ref_=plg_rt_1"><img src="http://g-ecx.images-amazon.com/images/G/01/imdb/plugins/rating/images/imdb_46x22.png"></a><span class="rating">'+
c.imdbRating+'<span class="ofTen">/10</span></span><img src="http://g-ecx.images-amazon.com/images/G/01/imdb/plugins/rating/images/imdb_star_22x21.png" class="star"></span>'),a("#descripcion").append("<p>"+c.Plot+"</p>"),x(d+" "+b),jQuery.ajax({url:"https://api.themoviedb.org/3/find/"+h+"?external_source=imdb_id&api_key=15d2ea6d0dc1d476efbca3eba2b9bbfb",type:"GET",dataType:"json"}).done(function(c){console.log("success");"movie"===m?(null===c.movie_results[0].poster_path&&a("#poster").append("No poster found"),
a("#poster").append('<img src="http://image.tmdb.org/t/p/w500'+c.movie_results[0].poster_path+'">')):"series"===m?(null===c.tv_results[0].poster_path&&a("#poster").append("No poster found"),a("#poster").append('<img src="http://image.tmdb.org/t/p/w500'+c.tv_results[0].poster_path+'">')):a("#poster").append("No poster found")}).fail(function(){console.log("error")}).always(function(){console.log("complete")}),a("#enlaces").append('<table class="tablesorter"><thead><tr><th>Links</th><th>Size</th><th>Seeds</th><th>Leechs</th></tr></thead><tbody></tbody></table>'),
q(),r(),u(),v(),a(document).ajaxStop(function(){k();a("table").stacktable();n();a(this).unbind("ajaxStop")}))}).fail(function(){console.log("error")}).always(function(a){console.log("complete");console.log(a)})}).fail(function(){console.log("error")}).always(function(){console.log("complete")})})}var h,d,b,e,m;(function(){$(document.body).on("keyup",function(a){13==a.keyCode&&($("#ui-id-1").hide(),""===$("input").val()?($(".ui-autocomplete-loading").removeClass("ui-autocomplete-loading"),$(".info").empty()):
w())})})();(function(){jQuery.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())};$("#buscar").autocomplete({minLength:2,delay:200,select:function(a,b){a.preventDefault();$(this).val(b.item.value);13!=a.keyCode&&w()},source:function(a,b){$.ajax({url:"http://www.imdb.com/xml/find?json=1&nr=1&tt=on",type:"GET",dataType:"json",data:{q:a.term},success:function(a){var c=[],d=[],e;jQuery.isEmptyObject(a)?c.push("Try again"):$.each(a,function(a,
b){for(var d=0;10>d;d++)b[d]&&!b[d].description.match(/game/g)&&(b[d].description.match(/\b(19|20)\d{2}\b/)?(e=b[d].description.match(/\b(19|20)\d{2}\b/),c.push(he.decode(b[d].title)+" "+e[0])):c.push(he.decode(b[d].title)))});$.each(c,function(a,b){-1===$.inArray(b,d)&&d.push(b)});b(d)}})}});$('input[type="checkbox"][name="servidor"]').on("change",function(){if(!$('input[type="checkbox"][name="servidor"]:checked').map(function(){return this.value}).toArray().length)return $(this).prop("checked",
!0),!1})})();$("#return").on("click",function(){p();console.log("asd")});$(document.body).on("keyup",function(a){27==a.keyCode&&p();8!=a.keyCode||$("#buscar").is(":focus")||p()});$(".trailer").fancybox()});